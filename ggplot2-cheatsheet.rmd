---
title: Ggplot2 Cheatsheet
layout: default
---

# Ggplot2 Cheatsheet

## Basic tasks

  __Basic plot setup__
  
	gg <- ggplot(df, aes(x=xcol, y=ycol)) 
	`df` must be a dataframe that contains all information to make the ggplot. Plot will show up only after adding the geom layers.

  __Scatterplot__
  
  	gg + geom_point()

  __Static - point size, shape, color and boundary thickness__
  
    gg + geom_point(size=1, shape=1, color="steelblue", stroke=2)

  __Dynamic - point size, shape, color and boundary thickness__
  
    gg + geom_point(aes(size=1, shape=1, color="steelblue", stroke=2))            

  __Add Title, X and Y axis labels__
  
    gg1 <- gg + geom_point() + labs(title="Plot Title", x="X-Axis", y="Y-Axis")

  __Change color of all text__
  
    gg1 + theme(text=element_text(color="blue"))

  __Change title, X and Y axis label size__
  
    gg1 + theme(plot.title=element_text(size=25), axis.title.x=element_text(size=20), axis.title.y=element_text(size=20))

  __Change title font, face, color, line height__

    gg1 + theme(plot.title=element_text(family="calibri", face="bold", color="steelblue", lineheight=1.5)

  __Adjust X and Y axis limits__                                                                

    Method 1: Zoom in
    gg1 + coord_cartesian(xlim=c(x1,x2), ylim=c(y1, y2))
    
    Method 2: Deletes the points outside limits
    gg1 + xlim(c(x1,x2)) + ylim(c(y1,y2)))
    
    Method 3: Deletes the points outside limits
    gg1 + scale_x_continuous(limits=c(x1,x2)) + scale_y_continuous(limits=c(y1,y2))
    
  __Flip X and Y Axis__

    gg1 + coord_flip()

  __Rotate axis text__                                                                           

    gg1 + theme(axis.text.x=element_text(angle=45), axis.text.y=element_text(angle=45))
  
## Legend

  __Hide legend__
  
    gg1 + theme(legend.postion="none")

  __Change legend title__
  
    gg1 + scale_color_discrete(name="Cut of diamonds")

  __Change legend text__
  
    scale_colour_manual(name='', values=c('Important line'='grey', 'Point values'='red'))

  __Change legend position__
  
    Method 1: Outside plot
    gg1 + theme(legend.postion="top")  # top / bottom / left / right
    
    Method 2: Inside plot
    gg1 + theme(legend.justification=c(1,0), legend.position=c(1,0))
  
  __Legend title and text size__
  
    gg1 + theme(legend.title = element_text(size=20), legend.text = element_text(size=15))
  
  __Legend box color__
  
    gg1 + theme(legend.key=element_rect(fill='steelblue'))
    
  __Legend's size of symbol__
    
    gg1 + guides(colour = guide_legend(override.aes = list(size=4)))

## Plot text and annotation

  __Annotation__
  
    gg1 + geom_text(aes(xcol, ycol, label=round(labelCol), size=3)
  
  __Add text in chart__
  
    library(grid)
    my_grob = grobTree(textGrob("My Custom Text", x=0.1, y=0.9, gp=gpar(col="firebrick", fontsize=25, fontface="bold")))
    GG1 + annotation_custom(my_grob)


## Multiple plots

  __Multiple chart panels__
  
    gg1 + facet_wrap(rowVariable ~ columnVariable, ncol=2)  # multiple plots 
    gg1 + facet_grid(rowVariable ~ columnVariable)  # arrange in a grid. More space for plots.
  
  __Free the x and Y axis scales__
  
    gg1 + facet_wrap(rowVariable ~ columnVariable, ncol=2, scales="free")  # free the x and y axis scales.
  
  __Arrange multiple plots__
    
    library(gridExtra)
    grid.arrange(gg1, gg2, gg3, ncol=2)


## Geom layers

  __Add smoothing line__
  
    gg + geom_smooth(method="lm")  # method could be - 'lm', 'loess', 'gam'
  
  __Add horizontal / vertical line__

    gg + geom_hline(yintercept=10)
    gg + geom_vline(xintercept=10)

  __Add barchart__
  
    gg + geom_bar()  # frequency table
    gg + geom_bar(stat="identity")  # static bar chart
    
  
  __Make line chart__
  
    gg + geom_line(linetype='dotted', size=1, color="firebrick")  # linetypes: solid, dashed, dotted, dotdash, longdash and twodash
    gg + geom_line(linetype='dotted', aes(size=sizeVar, color=colorVar))  # dynamic size and color.
  
  __Add multiple lines__

    Method 1:
    gg + geom_line(aes(x=date, y=yVar, color=colorVar)) + geom_line(aes(x=date, y=yVar2, col=colorVar2)) + scale_color_discrete(name="Legend") 
    
    Method 2:
    library(reshape2)
    df <- melt(economics[, c("date", "pce", "unemploy")], id="date")
    ggplot(df) + geom_line(aes(x=date, y=value, color=variable)) + labs(title="Economics")# plot multiple time series by melting


