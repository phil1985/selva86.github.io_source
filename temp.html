<h1>ggplot2 Quickref</h1>
<h4>Basics tasks</h4>
<ul>
<li><a href="ggplot2-cheatsheet.html#Basic%20plot%20setup">Basic plot setup</a></li>
<li><a href="ggplot2-cheatsheet.html#Scatterplot">Scatterplot</a></li>
<li><a href="ggplot2-cheatsheet.html#Static%20-%20point%20size,%20shape,%20color%20and%20boundary%20thickness">Static - point size, shape, color and boundary thickness</a></li>
<li><a href="ggplot2-cheatsheet.html#Dynamic%20-%20point%20size,%20shape,%20color%20and%20boundary%20thickness">Dynamic - point size, shape, color and boundary thickness</a></li>
<li><a href="ggplot2-cheatsheet.html#Add%20Title,%20X%20and%20Y%20axis%20labels">Add title, X and Y axis labels</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20color%20of%20all%20text">Change color of all text</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20title,%20X%20and%20Y%20axis%20label%20size">Change title, X and Y axis label size</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20title%20face,%20color,%20line%20height">Change title face, color, line height</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20point%20color">Change point color</a></li>
<li><a href="ggplot2-cheatsheet.html#Adjust%20X%20and%20Y%20axis%20limits">Adjust X and Y axis limits</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20X%20and%20Y%20axis%20labels">Change X and Y axis labels</a></li>
<li><a href="ggplot2-cheatsheet.html#Rotate%20axis%20text">Rotate axis text</a></li>
<li><a href="ggplot2-cheatsheet.html#Flip%20X%20and%20Y%20Axis">Flip X and Y axis</a></li>
<li><a href="ggplot2-cheatsheet.html#Grid%20lines%20and%20panel%20background">Grid lines and panel background</a></li>
<li><a href="ggplot2-cheatsheet.html#Plot%20margin%20and%20background">Plot margin and background</a></li>
<li><a href="ggplot2-cheatsheet.html#Colors">Colors</a></li>
</ul>
<h4>Legend</h4>
<ul>
<li><a href="ggplot2-cheatsheet.html#Hide%20legend">Hide legend</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20legend%20title">Change legend title</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20legend%20and%20point%20color">Change legend and point color</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20legend%20position">Change legend position</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20order%20of%20legend%20items">Change order of legend items</a></li>
<li><a href="ggplot2-cheatsheet.html#Legend%20title,%20text,%20box,%20symbol">Change legend title, text, box, symbol</a></li>
</ul>
<h4>Plot text and annotation</h4>
<ul>
<li><a href="ggplot2-cheatsheet.html#Add%20text%20in%20chart">Add text in chart</a></li>
<li><a href="ggplot2-cheatsheet.html#Annotation">Annotation</a></li>
</ul>
<h4>Multiple plots</h4>
<ul>
<li><a href="ggplot2-cheatsheet.html#Multiple%20chart%20panels">Multiple chart panels</a></li>
<li><a href="ggplot2-cheatsheet.html#Free%20X%20and%20Y%20axis%20scales">Free X and Y axis scales</a></li>
<li><a href="ggplot2-cheatsheet.html#Arrange%20multiple%20plots">Arrange multiple plots</a></li>
</ul>
<h4>Geom layers</h4>
<ul>
<li><a href="ggplot2-cheatsheet.html#Add%20smoothing%20line">Add smoothing line</a></li>
<li><a href="ggplot2-cheatsheet.html#Add%20horizontal%20/%20vertical%20line">Add horizontal / vertical line</a></li>
<li><a href="ggplot2-cheatsheet.html#Add%20bar%20chart">Add bar chart</a></li>
<li><a href="ggplot2-cheatsheet.html#Distinct%20color%20for%20bars">Distinct color for bars</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20color%20and%20width%20of%20bars">Change color and width of bars</a></li>
<li><a href="ggplot2-cheatsheet.html#Change%20color%20palette">Change color palette</a></li>
<li><a href="ggplot2-cheatsheet.html#Line%20chart">Line chart</a></li>
<li><a href="ggplot2-cheatsheet.html#Line%20chart%20from%20timeseries">Line chart from timeseries</a></li>
<li><a href="ggplot2-cheatsheet.html#Ribbons">Ribbons</a></li>
<li><a href="ggplot2-cheatsheet.html#Area">Area</a></li>
<li><a href="ggplot2-cheatsheet.html#Boxplot%20and%20Violin">Boxplot and Violin</a></li>
<li><a href="ggplot2-cheatsheet.html#Density">Density</a></li>
<li><a href="ggplot2-cheatsheet.html#Tiles">Tiles</a></li>
</ul>
<p>Not finding what you were looking for? <a href="https://docs.google.com/forms/d/13GrkCFcNa-TOIllQghsz2SIEbc-YqY9eJX02B19l5Ow/viewform">Let me know!</a></p>
<h2>Basic tasks</h2>
<h4>Basic plot setup</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg &lt;-<span class="st"> </span><span class="kw">ggplot</span>(df, <span class="kw">aes</span>(<span class="dt">x=</span>xcol, <span class="dt">y=</span>ycol)) </code></pre></div>
<p><code>df</code> must be a dataframe that contains all information to make the ggplot. Plot will show up only after adding the geom layers.</p>
<h4>Scatterplot</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
gg &lt;-<span class="st"> </span><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x=</span>carat, <span class="dt">y=</span>price)) 
gg +<span class="st"> </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src='screenshots/gg_cs_1.png' width='528' height='262' /></p>
<h4>Static - point size, shape, color and boundary thickness</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">size=</span><span class="dv">1</span>, <span class="dt">shape=</span><span class="dv">1</span>, <span class="dt">color=</span><span class="st">&quot;steelblue&quot;</span>, <span class="dt">stroke=</span><span class="dv">2</span>)  <span class="co"># &#39;stroke&#39; controls the thickness of point boundary</span></code></pre></div>
<p><img src='screenshots/gg_cs_2.png' width='524' height='262' /></p>
<h4>Dynamic - point size, shape, color and boundary thickness</h4>
<p>Make the aesthetics vary based on a variable in <code>df</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">size=</span>carat, <span class="dt">shape=</span>cut, <span class="dt">color=</span>color, <span class="dt">stroke=</span>carat))  <span class="co"># carat, cut and color are variables in `diamonds`       </span></code></pre></div>
<p><img src='screenshots/gg_cs_3.png' width='524' height='262' /></p>
<h4>Add Title, X and Y axis labels</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg1 &lt;-<span class="st"> </span>gg +<span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color=</span>color))
gg2 &lt;-<span class="st"> </span>gg1 +<span class="st"> </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Diamonds&quot;</span>, <span class="dt">x=</span><span class="st">&quot;Carat&quot;</span>, <span class="dt">y=</span><span class="st">&quot;Price&quot;</span>)  <span class="co"># ggtitle(&quot;title&quot;) also changes the title.</span>
<span class="kw">print</span>(gg2)</code></pre></div>
<p><img src='screenshots/gg_cs_4.png' width='524' height='262' /></p>
<h4>Change color of all text</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg2 +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">text=</span><span class="kw">element_text</span>(<span class="dt">color=</span><span class="st">&quot;blue&quot;</span>))  <span class="co"># all text turns blue.</span></code></pre></div>
<p><img src='screenshots/gg_cs_5.png' width='524' height='262' /></p>
<h4>Change title, X and Y axis label and text size</h4>
<p><code>plot.title</code>: Controls plot title. <code>axis.title.x</code>: Controls X axis title <code>axis.title.y</code>: Controls Y axis title <code>axis.text.x</code>: Controls X axis text <code>axis.text.y</code>: Controls y axis text</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 &lt;-<span class="st"> </span>gg2 +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">plot.title=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">25</span>), <span class="dt">axis.title.x=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">20</span>), <span class="dt">axis.title.y=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">20</span>), <span class="dt">axis.text.x=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>), <span class="dt">axis.text.y=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>))
<span class="kw">print</span>(gg3)</code></pre></div>
<p><img src='screenshots/gg_cs_6.png' width='524' height='262' /></p>
<h4>Change title face, color, line height</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Plot Title</span><span class="ch">\n</span><span class="st">Second Line of Plot Title&quot;</span>) +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">plot.title=</span><span class="kw">element_text</span>(<span class="dt">face=</span><span class="st">&quot;bold&quot;</span>, <span class="dt">color=</span><span class="st">&quot;steelblue&quot;</span>, <span class="dt">lineheight=</span><span class="fl">1.2</span>))</code></pre></div>
<p><img src='screenshots/gg_cs_7.png' width='524' height='262' /></p>
<h4>Change point color</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">scale_colour_manual</span>(<span class="dt">name=</span><span class="st">&#39;Legend&#39;</span>, <span class="dt">values=</span><span class="kw">c</span>(<span class="st">&#39;D&#39;</span>=<span class="st">&#39;grey&#39;</span>, <span class="st">&#39;E&#39;</span>=<span class="st">&#39;red&#39;</span>, <span class="st">&#39;F&#39;</span>=<span class="st">&#39;blue&#39;</span>, <span class="st">&#39;G&#39;</span>=<span class="st">&#39;yellow&#39;</span>, <span class="st">&#39;H&#39;</span>=<span class="st">&#39;black&#39;</span>, <span class="st">&#39;I&#39;</span>=<span class="st">&#39;green&#39;</span>, <span class="st">&#39;J&#39;</span>=<span class="st">&#39;firebrick&#39;</span>))</code></pre></div>
<p><img src='screenshots/gg_cs_8.png' width='524' height='262' /></p>
<h4>Adjust X and Y axis limits</h4>
<p>Method 1: Zoom in</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">3</span>), <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">5000</span>)) +<span class="st"> </span><span class="kw">geom_smooth</span>()  <span class="co"># zoom in</span></code></pre></div>
<p><img src='screenshots/gg_cs_9.png' width='524' height='262' /></p>
<p>Method 2: Deletes the points outside limits</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">xlim</span>(<span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">3</span>)) +<span class="st"> </span><span class="kw">ylim</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">5000</span>)) +<span class="st"> </span><span class="kw">geom_smooth</span>()  <span class="co"># deletes the points </span>
<span class="co">#&gt; Warning messages:</span>
<span class="co">#&gt; 1: Removed 14714 rows containing non-finite values (stat_smooth). </span>
<span class="co">#&gt; 2: Removed 14714 rows containing missing values (geom_point). </span></code></pre></div>
<p>Method 3: Deletes the points outside limits</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">3</span>)) +<span class="st"> </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">5000</span>)) +<span class="st"> </span><span class="kw">geom_smooth</span>()  <span class="co"># deletes the points outside limits</span>
<span class="co">#&gt; Warning message:</span>
<span class="co">#&gt; Removed 14714 rows containing missing values (geom_point). </span></code></pre></div>
<p><img src='screenshots/gg_cs_11.png' width='524' height='262' /></p>
<p>Notice the change in smoothing line because of deleted points. This could sometimes be misleading in your analysis.</p>
<h4>Change X and Y axis labels</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">scale_x_continuous</span>(<span class="dt">labels=</span><span class="kw">c</span>(<span class="st">&quot;zero&quot;</span>, <span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;three&quot;</span>, <span class="st">&quot;four&quot;</span>, <span class="st">&quot;five&quot;</span>)) +<span class="st"> </span><span class="kw">scale_y_continuous</span>(<span class="dt">breaks=</span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">20000</span>, <span class="dv">4000</span>))  <span class="co"># if Y is continuous, if X is a factor</span></code></pre></div>
<p>Use <code>scale_x_discrete</code> instead, if X variable is a factor.</p>
<p><img src='screenshots/gg_cs_12.png' width='524' height='262' /></p>
<h4>Rotate axis text</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">axis.text.x=</span><span class="kw">element_text</span>(<span class="dt">angle=</span><span class="dv">45</span>), <span class="dt">axis.text.y=</span><span class="kw">element_text</span>(<span class="dt">angle=</span><span class="dv">45</span>))</code></pre></div>
<p><img src='screenshots/gg_cs_13.png' width='524' height='262' /></p>
<h4>Flip X and Y Axis</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">coord_flip</span>()  <span class="co"># flips X and Y axis.</span></code></pre></div>
<p><img src='screenshots/gg_cs_14.png' width='524' height='262' /></p>
<h4>Grid lines and panel background</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">panel.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&#39;springgreen&#39;</span>),
  <span class="dt">panel.grid.major =</span> <span class="kw">element_line</span>(<span class="dt">colour =</span> <span class="st">&quot;firebrick&quot;</span>, <span class="dt">size=</span><span class="dv">3</span>),
  <span class="dt">panel.grid.minor =</span> <span class="kw">element_line</span>(<span class="dt">colour =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">size=</span><span class="dv">1</span>))</code></pre></div>
<p><img src='screenshots/gg_cs_36.png' width='524' height='262' /></p>
<h4>Plot margin and background</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">plot.background=</span><span class="kw">element_rect</span>(<span class="dt">fill=</span><span class="st">&quot;yellowgreen&quot;</span>), <span class="dt">plot.margin =</span> <span class="kw">unit</span>(<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">3</span>), <span class="st">&quot;cm&quot;</span>)) <span class="co"># top, right, bottom, left</span></code></pre></div>
<p><img src='screenshots/gg_cs_37.png' width='524' height='262' /></p>
<h4>Colors</h4>
<p>The whole list of colors are displayed at your R console in the <code>color()</code> function. Here are few of my suggestions for nice looking colors and backgrounds:</p>
<ul>
<li>steelblue (points and lines)</li>
<li>firebrick (point and lines)</li>
<li>springgreen (fills)</li>
<li>violetred (fills)</li>
<li>tomato (fills)</li>
<li>skyblue (bg)</li>
<li>sienna (points, lines)</li>
<li>slateblue (fills)</li>
<li>seagreen (points, lines, fills)</li>
<li>sandybrown (fills)</li>
<li>salmon (fills)</li>
<li>saddlebrown (lines)</li>
<li>royalblue (fills)</li>
<li>orangered (point, lines, fills)</li>
<li>olivedrab (points, lines, fills)</li>
<li>midnightblue (lines)</li>
<li>mediumvioletred (points, lines, fills)</li>
<li>maroon (points, lines, fills)</li>
<li>limegreen (fills)</li>
<li>lawngreen (fills)</li>
<li>forestgreen (lines, fills)</li>
<li>dodgerblue (fills, bg)</li>
<li>dimgray (grids, secondary bg)</li>
<li>deeppink (fills)</li>
<li>darkred (lines, points)</li>
</ul>
<p>If you are looking for consistent colors, the <code>RColorBrewer</code> package has predefined <a href="http://127.0.0.1:4000/ggplot2-cheatsheet.html#Change%20color%20palette">color palettes</a></p>
<p><img src='screenshots/gg_cs_sp37.png' width='698' height='349' /></p>
<h2>Legend</h2>
<h4>Hide legend</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position=</span><span class="st">&quot;none&quot;</span>)  <span class="co"># hides the legend</span></code></pre></div>
<h4>Change legend title</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">scale_color_discrete</span>(<span class="dt">name=</span><span class="st">&quot;&quot;</span>)  <span class="co"># Remove legend title (method1)</span>
p1 &lt;-<span class="st"> </span>gg3 +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.title=</span><span class="kw">element_blank</span>())  <span class="co"># Remove legend title (method)</span>
p2 &lt;-<span class="st"> </span>gg3 +<span class="st"> </span><span class="kw">scale_color_discrete</span>(<span class="dt">name=</span><span class="st">&quot;Diamonds&quot;</span>)  <span class="co"># Change legend title</span>
<span class="kw">library</span>(gridExtra)
<span class="kw">grid.arrange</span>(p1, p2, <span class="dt">ncol=</span><span class="dv">2</span>)  <span class="co"># arrange</span></code></pre></div>
<p><img src='screenshots/gg_cs_15.png' width='524' height='262' /></p>
<h4>Change legend and point color</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">scale_colour_manual</span>(<span class="dt">name=</span><span class="st">&#39;Legend&#39;</span>, <span class="dt">values=</span><span class="kw">c</span>(<span class="st">&#39;D&#39;</span>=<span class="st">&#39;grey&#39;</span>, <span class="st">&#39;E&#39;</span>=<span class="st">&#39;red&#39;</span>, <span class="st">&#39;F&#39;</span>=<span class="st">&#39;blue&#39;</span>, <span class="st">&#39;G&#39;</span>=<span class="st">&#39;yellow&#39;</span>, <span class="st">&#39;H&#39;</span>=<span class="st">&#39;black&#39;</span>, <span class="st">&#39;I&#39;</span>=<span class="st">&#39;green&#39;</span>, <span class="st">&#39;J&#39;</span>=<span class="st">&#39;firebrick&#39;</span>))</code></pre></div>
<p><img src='screenshots/gg_cs_16.png' width='524' height='262' /></p>
<h4>Change legend position</h4>
<p><strong>Outside plot</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p1 &lt;-<span class="st"> </span>gg3 +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position=</span><span class="st">&quot;top&quot;</span>)  <span class="co"># top / bottom / left / right</span></code></pre></div>
<p><strong>Inside plot</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p2 &lt;-<span class="st"> </span>gg3 +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.justification=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>), <span class="dt">legend.position=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>))  <span class="co"># legend justification is the anchor point on the legend, considering the bottom left of legend as (0,0)</span>
gridExtra::<span class="kw">grid.arrange</span>(p1, p2, <span class="dt">ncol=</span><span class="dv">2</span>)</code></pre></div>
<p><img src='screenshots/gg_cs_17.png' width='524' height='262' /></p>
<h4>Change order of legend items</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df$newLegendColumn &lt;-<span class="st"> </span><span class="kw">factor</span>(df$legendcolumn, <span class="dt">levels=</span><span class="kw">c</span>(new_order_of_legend_items), <span class="dt">ordered =</span> <span class="ot">TRUE</span>) </code></pre></div>
<p>Create a new factor variable used in the legend, ordered as you need. Then use this variable instead in the plot.</p>
<h4>Legend title, text, box, symbol</h4>
<ul>
<li><code>legend.title</code> - Change legend title</li>
<li><code>legend.text</code> - Change legend text</li>
<li><code>legend.key</code> - Change legend box</li>
<li><code>guides</code> - Change legend symbols</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">20</span>, <span class="dt">color =</span> <span class="st">&quot;firebrick&quot;</span>), <span class="dt">legend.text =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>), <span class="dt">legend.key=</span><span class="kw">element_rect</span>(<span class="dt">fill=</span><span class="st">&#39;steelblue&#39;</span>)) +<span class="st"> </span><span class="kw">guides</span>(<span class="dt">colour =</span> <span class="kw">guide_legend</span>(<span class="dt">override.aes =</span> <span class="kw">list</span>(<span class="dt">size=</span><span class="dv">2</span>, <span class="dt">shape=</span><span class="dv">4</span>, <span class="dt">stroke=</span><span class="dv">2</span>)))  <span class="co"># legend title color and size, box color, symbol color, size and shape.</span></code></pre></div>
<p><img src='screenshots/gg_cs_18.png' width='524' height='262' /></p>
<p><img src='screenshots/symbols.png' width='150' height='262' /></p>
<h2>Plot text and annotation</h2>
<h4>Add text in chart</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#&gt; Not Run: gg + geom_text(aes(xcol, ycol, label=round(labelCol), size=3))  # general format</span>
gg +<span class="st"> </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label=</span>color, <span class="dt">color=</span>color), <span class="dt">size=</span><span class="dv">4</span>) </code></pre></div>
<p><img src='screenshots/gg_cs_19.png' width='524' height='262' /></p>
<h4>Annotation</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#&gt; gg3 + annotate(&quot;mytext&quot;, x=xpos, y=ypos, label=&quot;My text&quot;)  # Not run: General Format</span>
<span class="kw">library</span>(grid)
my_grob =<span class="st"> </span><span class="kw">grobTree</span>(<span class="kw">textGrob</span>(<span class="st">&quot;My Custom Text&quot;</span>, <span class="dt">x=</span><span class="fl">0.8</span>, <span class="dt">y=</span><span class="fl">0.2</span>, <span class="dt">gp=</span><span class="kw">gpar</span>(<span class="dt">col=</span><span class="st">&quot;firebrick&quot;</span>, <span class="dt">fontsize=</span><span class="dv">25</span>, <span class="dt">fontface=</span><span class="st">&quot;bold&quot;</span>)))
gg3 +<span class="st"> </span><span class="kw">annotation_custom</span>(my_grob)</code></pre></div>
<p><img src='screenshots/gg_cs_20.png' width='524' height='262' /></p>
<h2>Multiple plots</h2>
<h4>Multiple chart panels</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p1 &lt;-<span class="st"> </span>gg1 +<span class="st"> </span><span class="kw">facet_grid</span>(color ~<span class="st"> </span>cut)  <span class="co"># arrange in a grid. More space for plots.</span></code></pre></div>
<h4>Free X and Y axis scales</h4>
<p>By setting <code>scales='free'</code>, the scales of both X and Y axis is freed. Use <code>scales='free_x'</code> to free only X-axis and <code>scales='free_y'</code> to free only Y-axis.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p2 &lt;-<span class="st"> </span>gg1 +<span class="st"> </span><span class="kw">facet_wrap</span>(color ~<span class="st"> </span>cut, <span class="dt">scales=</span><span class="st">&quot;free&quot;</span>)  <span class="co"># free the x and y axis scales.</span></code></pre></div>
<h4>Arrange multiple plots</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(gridExtra)
<span class="kw">grid.arrange</span>(p1, p2, <span class="dt">ncol=</span><span class="dv">2</span>)</code></pre></div>
<p><img src='screenshots/gg_cs_21.png' width='524' height='262' /></p>
<h2>Geom layers</h2>
<h4>Add smoothing line</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg3 +<span class="st"> </span><span class="kw">geom_smooth</span>(<span class="kw">aes</span>(<span class="dt">color=</span>color))  <span class="co"># method could be - &#39;lm&#39;, &#39;loess&#39;, &#39;gam&#39;</span></code></pre></div>
<p><img src='screenshots/gg_cs_22.png' width='524' height='262' /></p>
<h4>Add horizontal / vertical line</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p1 &lt;-<span class="st"> </span>gg3 +<span class="st"> </span><span class="kw">geom_hline</span>(<span class="dt">yintercept=</span><span class="dv">5000</span>, <span class="dt">size=</span><span class="dv">2</span>, <span class="dt">linetype=</span><span class="st">&quot;dotted&quot;</span>, <span class="dt">color=</span><span class="st">&quot;blue&quot;</span>) <span class="co"># linetypes: solid, dashed, dotted, dotdash, longdash and twodash</span>
p2 &lt;-<span class="st"> </span>gg3 +<span class="st"> </span><span class="kw">geom_vline</span>(<span class="dt">xintercept=</span><span class="dv">4</span>, <span class="dt">size=</span><span class="dv">2</span>, <span class="dt">color=</span><span class="st">&quot;firebrick&quot;</span>)
p3 &lt;-<span class="st"> </span>gg3 +<span class="st"> </span><span class="kw">geom_segment</span>(<span class="kw">aes</span>(<span class="dt">x=</span><span class="dv">4</span>, <span class="dt">y=</span><span class="dv">5000</span>, <span class="dt">xend=</span><span class="dv">4</span>, <span class="dt">yend=</span><span class="dv">10000</span>, <span class="dt">size=</span><span class="dv">2</span>, <span class="dt">lineend=</span><span class="st">&quot;round&quot;</span>))
p4 &lt;-<span class="st"> </span>gg3 +<span class="st"> </span><span class="kw">geom_segment</span>(<span class="kw">aes</span>(<span class="dt">x=</span>carat, <span class="dt">y=</span>price, <span class="dt">xend=</span>carat, <span class="dt">yend=</span>price<span class="dv">-500</span>, <span class="dt">color=</span>color), <span class="dt">size=</span><span class="dv">2</span>) +<span class="st"> </span><span class="kw">coord_cartesian</span>(<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>))  <span class="co"># x, y: start points. xend, yend: end points</span>
gridExtra::<span class="kw">grid.arrange</span>(p1,p2,p3,p4, <span class="dt">ncol=</span><span class="dv">2</span>)</code></pre></div>
<p><img src='screenshots/gg_cs_23.png' width='524' height='524' /></p>
<h4>Add bar chart</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Frequency bar chart: Specify only X axis.</span>
gg &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x=</span>cyl))
gg +<span class="st"> </span><span class="kw">geom_bar</span>()  <span class="co"># frequency table</span></code></pre></div>
<p><img src='screenshots/gg_cs_24.png' width='524' height='262' /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x=</span>cyl))
p1 &lt;-<span class="st"> </span>gg +<span class="st"> </span><span class="kw">geom_bar</span>(<span class="dt">position=</span><span class="st">&quot;dodge&quot;</span>, <span class="kw">aes</span>(<span class="dt">fill=</span><span class="kw">factor</span>(vs)))  <span class="co"># side-by-side</span>
p2 &lt;-<span class="st"> </span>gg +<span class="st"> </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill=</span><span class="kw">factor</span>(vs)))  <span class="co"># stacked</span>
gridExtra::<span class="kw">grid.arrange</span>(p1, p2, <span class="dt">ncol=</span><span class="dv">2</span>)</code></pre></div>
<p><img src='screenshots/gg_cs_25.png' width='524' height='262' /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Absolute bar chart: Specify both X adn Y axis. Set stat=&quot;identity&quot;</span>
df &lt;-<span class="st"> </span><span class="kw">aggregate</span>(mtcars$mpg, <span class="dt">by=</span><span class="kw">list</span>(mtcars$cyl), <span class="dt">FUN=</span>mean)  <span class="co"># mean of mpg for every &#39;cyl&#39;</span>
<span class="kw">names</span>(df) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;cyl&quot;</span>, <span class="st">&quot;mpg&quot;</span>)
<span class="kw">head</span>(df)
<span class="co">#&gt;   cyl    mpg</span>
<span class="co">#&gt; 1   4  26.66</span>
<span class="co">#&gt; 2   6  19.74</span>
<span class="co">#&gt; 3   8  15.10</span>

gg_bar &lt;-<span class="st"> </span><span class="kw">ggplot</span>(df, <span class="kw">aes</span>(<span class="dt">x=</span>cyl, <span class="dt">y=</span>mpg)) +<span class="st"> </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>)  <span class="co"># Y axis is explicit. &#39;stat=identity&#39;</span>
<span class="kw">print</span>(gg_bar)</code></pre></div>
<p><img src='screenshots/gg_cs_26.png' width='524' height='262' /></p>
<h4>Distinct color for bars</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg_bar &lt;-<span class="st"> </span><span class="kw">ggplot</span>(df, <span class="kw">aes</span>(<span class="dt">x=</span>cyl, <span class="dt">y=</span>mpg)) +<span class="st"> </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="kw">aes</span>(<span class="dt">fill=</span>cyl))
<span class="kw">print</span>(gg_bar)</code></pre></div>
<p><img src='screenshots/gg_cs_27.png' width='524' height='262' /></p>
<h4>Change color and width of bars</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df$cyl &lt;-<span class="st"> </span><span class="kw">as.factor</span>(df$cyl)
gg_bar &lt;-<span class="st"> </span><span class="kw">ggplot</span>(df, <span class="kw">aes</span>(<span class="dt">x=</span>cyl, <span class="dt">y=</span>mpg)) +<span class="st"> </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="kw">aes</span>(<span class="dt">fill=</span>cyl), <span class="dt">width =</span> <span class="fl">0.25</span>)
gg_bar +<span class="st"> </span><span class="kw">scale_fill_manual</span>(<span class="dt">values=</span><span class="kw">c</span>(<span class="st">&quot;4&quot;</span>=<span class="st">&quot;steelblue&quot;</span>, <span class="st">&quot;6&quot;</span>=<span class="st">&quot;firebrick&quot;</span>, <span class="st">&quot;8&quot;</span>=<span class="st">&quot;darkgreen&quot;</span>))</code></pre></div>
<p><img src='screenshots/gg_cs_28.png' width='524' height='262' /></p>
<h4>Change color palette</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(RColorBrewer)
<span class="kw">display.brewer.all</span>(<span class="dt">n=</span><span class="dv">20</span>, <span class="dt">exact.n=</span><span class="ot">FALSE</span>)  <span class="co"># display available color palettes</span>
<span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x=</span>cyl, <span class="dt">y=</span>carb, <span class="dt">fill=</span><span class="kw">factor</span>(cyl))) +<span class="st"> </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>) +<span class="st"> </span><span class="kw">scale_fill_brewer</span>(<span class="dt">palette=</span><span class="st">&quot;Reds&quot;</span>)  <span class="co"># &quot;Reds&quot; is palette name</span></code></pre></div>
<p><img src='screenshots/gg_cs_29.png' width='524' height='262' /></p>
<h4>Line chart</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Method 1:</span>
gg &lt;-<span class="st"> </span><span class="kw">ggplot</span>(economics, <span class="kw">aes</span>(<span class="dt">x=</span>date))  <span class="co"># setup</span>
gg +<span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y=</span>psavert), <span class="dt">size=</span><span class="dv">2</span>, <span class="dt">color=</span><span class="st">&quot;firebrick&quot;</span>) +<span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y=</span>uempmed), <span class="dt">size=</span><span class="dv">1</span>, <span class="dt">color=</span><span class="st">&quot;steelblue&quot;</span>, <span class="dt">linetype=</span><span class="st">&quot;twodash&quot;</span>)  <span class="co"># No legend</span>
<span class="co"># available linetypes: solid, dashed, dotted, dotdash, longdash and twodash</span></code></pre></div>
<p><img src='screenshots/gg_cs_30.png' width='524' height='262' /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Method 2:</span>
<span class="kw">library</span>(reshape2)
df_melt &lt;-<span class="st"> </span><span class="kw">melt</span>(economics[, <span class="kw">c</span>(<span class="st">&quot;date&quot;</span>, <span class="st">&quot;psavert&quot;</span>, <span class="st">&quot;uempmed&quot;</span>)], <span class="dt">id=</span><span class="st">&quot;date&quot;</span>)  <span class="co"># melt by date. </span>
gg &lt;-<span class="st"> </span><span class="kw">ggplot</span>(df_melt, <span class="kw">aes</span>(<span class="dt">x=</span>date))  <span class="co"># setup</span>
gg +<span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y=</span>value, <span class="dt">color=</span>variable), <span class="dt">size=</span><span class="dv">1</span>) +<span class="st"> </span><span class="kw">scale_color_discrete</span>(<span class="dt">name=</span><span class="st">&quot;Legend&quot;</span>)  <span class="co"># gets legend.</span></code></pre></div>
<p><img src='screenshots/gg_cs_31.png' width='524' height='262' /></p>
<h4>Line chart from timeseries</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># One step method.</span>
<span class="kw">library</span>(ggfortify)
<span class="kw">autoplot</span>(AirPassengers, <span class="dt">size=</span><span class="dv">2</span>) +<span class="st"> </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;AirPassengers&quot;</span>)</code></pre></div>
<p><img src='screenshots/gg_cs_32.png' width='524' height='262' /></p>
<h4>Ribbons</h4>
<p>Filled time series can be plotted using <code>geom_ribbon()</code>. It takes two compulsory arguments <code>ymin</code> and <code>ymax</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Prepare the dataframe</span>
st_year &lt;-<span class="st"> </span><span class="kw">start</span>(AirPassengers)[<span class="dv">1</span>]
st_month &lt;-<span class="st"> &quot;01&quot;</span>
st_date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="kw">paste</span>(st_year, st_month, <span class="st">&quot;01&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;-&quot;</span>))
dates &lt;-<span class="st"> </span><span class="kw">seq.Date</span>(st_date, <span class="dt">length=</span><span class="kw">length</span>(AirPassengers), <span class="dt">by=</span><span class="st">&quot;month&quot;</span>)
df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(dates, AirPassengers, AirPassengers/<span class="dv">2</span>)
<span class="kw">head</span>(df)
<span class="co">#&gt;        dates AirPassengers AirPassengers.2</span>
<span class="co">#&gt; 1 1949-01-01           112            56.0</span>
<span class="co">#&gt; 2 1949-02-01           118            59.0</span>
<span class="co">#&gt; 3 1949-03-01           132            66.0</span>
<span class="co">#&gt; 4 1949-04-01           129            64.5</span>
<span class="co">#&gt; 5 1949-05-01           121            60.5</span>
<span class="co">#&gt; 6 1949-06-01           135            67.5</span>
<span class="co"># Plot ribbon with ymin=0</span>
gg &lt;-<span class="st"> </span><span class="kw">ggplot</span>(df, <span class="kw">aes</span>(<span class="dt">x=</span>dates)) +<span class="st"> </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;AirPassengers&quot;</span>) +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">plot.title=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">30</span>), <span class="dt">axis.title.x=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">20</span>), <span class="dt">axis.text.x=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">15</span>))
gg +<span class="st"> </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">ymin=</span><span class="dv">0</span>, <span class="dt">ymax=</span>AirPassengers)) +<span class="st"> </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">ymin=</span><span class="dv">0</span>, <span class="dt">ymax=</span>AirPassengers<span class="fl">.2</span>), <span class="dt">fill=</span><span class="st">&quot;green&quot;</span>)</code></pre></div>
<p><img src='screenshots/gg_cs_33.png' width='524' height='262' /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gg +<span class="st"> </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">ymin=</span>AirPassengers<span class="dv">-20</span>, <span class="dt">ymax=</span>AirPassengers<span class="dv">+20</span>)) +<span class="st"> </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">ymin=</span>AirPassengers<span class="fl">.2</span><span class="dv">-20</span>, <span class="dt">ymax=</span>AirPassengers<span class="fl">.2</span><span class="dv">+20</span>), <span class="dt">fill=</span><span class="st">&quot;green&quot;</span>)</code></pre></div>
<p><img src='screenshots/gg_cs_34.png' width='524' height='262' /></p>
<h4>Area</h4>
<p><code>geom_area</code> is similar to <code>geom_ribbon</code>, except that the <code>ymin</code> is set to 0. If you want to make overlapping area plot, use the <code>alpha</code> aesthetic to make the top layer translucent.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Method1: Non-Overlapping Area</span>
df &lt;-<span class="st"> </span>reshape2::<span class="kw">melt</span>(economics[, <span class="kw">c</span>(<span class="st">&quot;date&quot;</span>, <span class="st">&quot;psavert&quot;</span>, <span class="st">&quot;uempmed&quot;</span>)], <span class="dt">id=</span><span class="st">&quot;date&quot;</span>)
<span class="kw">head</span>(df, <span class="dv">3</span>)
<span class="co">#&gt;         date variable value</span>
<span class="co">#&gt; 1 1967-07-01  psavert  12.5</span>
<span class="co">#&gt; 2 1967-08-01  psavert  12.5</span>
<span class="co">#&gt; 3 1967-09-01  psavert  11.7</span>
p1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(df, <span class="kw">aes</span>(<span class="dt">x=</span>date)) +<span class="st"> </span><span class="kw">geom_area</span>(<span class="kw">aes</span>(<span class="dt">y=</span>value, <span class="dt">fill=</span>variable)) +<span class="st"> </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Non-Overlapping - psavert and uempmed&quot;</span>)

<span class="co"># Method2: Overlapping Area</span>
p2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(economics, <span class="kw">aes</span>(<span class="dt">x=</span>date)) +<span class="st"> </span><span class="kw">geom_area</span>(<span class="kw">aes</span>(<span class="dt">y=</span>psavert), <span class="dt">fill=</span><span class="st">&quot;yellowgreen&quot;</span>, <span class="dt">color=</span><span class="st">&quot;yellowgreen&quot;</span>) +<span class="st"> </span><span class="kw">geom_area</span>(<span class="kw">aes</span>(<span class="dt">y=</span>uempmed), <span class="dt">fill=</span><span class="st">&quot;dodgerblue&quot;</span>, <span class="dt">alpha=</span><span class="fl">0.7</span>, <span class="dt">linetype=</span><span class="st">&quot;dotted&quot;</span>) +<span class="st"> </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Overlapping - psavert and uempmed&quot;</span>)
gridExtra::<span class="kw">grid.arrange</span>(p1, p2, <span class="dt">ncol=</span><span class="dv">2</span>)</code></pre></div>
<p><img src='screenshots/gg_cs_35.png' width='698' height='262' /></p>
<h4>Boxplot and Violin</h4>
<p>The oulier points are controlled by the following aesthetics: * outlier.shape * outlier.stroke * outlier.size * outlier.colour</p>
<p>If the <code>notch</code> is turned on (by setting it TRUE), the below boxplot is produced. Else, you would get the standard rectangular boxplots.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="kw">factor</span>(cyl), mpg)) +<span class="st"> </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> <span class="kw">factor</span>(cyl)), <span class="dt">width=</span><span class="fl">0.5</span>, <span class="dt">outlier.colour =</span> <span class="st">&quot;dodgerblue&quot;</span>, <span class="dt">outlier.size =</span> <span class="dv">4</span>, <span class="dt">outlier.shape =</span> <span class="dv">16</span>, <span class="dt">outlier.stroke =</span> <span class="dv">2</span>, <span class="dt">notch=</span>T) +<span class="st"> </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Box plot&quot;</span>)  <span class="co"># boxplot</span>
p2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="kw">factor</span>(cyl), mpg)) +<span class="st"> </span><span class="kw">geom_violin</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> <span class="kw">factor</span>(cyl)), <span class="dt">width=</span><span class="fl">0.5</span>, <span class="dt">trim=</span>F) +<span class="st"> </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Violin plot (untrimmed)&quot;</span>)  <span class="co"># violin plot</span>
gridExtra::<span class="kw">grid.arrange</span>(p1, p2, <span class="dt">ncol=</span><span class="dv">2</span>)</code></pre></div>
<p><img src='screenshots/gg_cs_38.png' width='698' height='262' /></p>
<h4>Density</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(mpg)) +<span class="st"> </span><span class="kw">geom_density</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> <span class="kw">factor</span>(cyl)), <span class="dt">size=</span><span class="dv">2</span>) +<span class="st"> </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Density plot&quot;</span>)  <span class="co"># Density plot</span></code></pre></div>
<p><img src='screenshots/gg_cs_39.png' width='524' height='262' /></p>
<h4>Tiles</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">corr &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">cor</span>(mtcars), <span class="dv">2</span>)
df &lt;-<span class="st"> </span>reshape2::<span class="kw">melt</span>(corr)
gg &lt;-<span class="st"> </span><span class="kw">ggplot</span>(df, <span class="kw">aes</span>(<span class="dt">x=</span>Var1, <span class="dt">y=</span>Var2, <span class="dt">fill=</span>value, <span class="dt">label=</span>value)) +<span class="st"> </span><span class="kw">geom_tile</span>() +<span class="st"> </span><span class="kw">theme_bw</span>() +<span class="st"> </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label=</span>value, <span class="dt">size=</span>value), <span class="dt">color=</span><span class="st">&quot;white&quot;</span>) +<span class="st"> </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;mtcars - Correlation plot&quot;</span>) +<span class="st"> </span><span class="kw">theme</span>(<span class="dt">text=</span><span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">20</span>), <span class="dt">legend.position=</span><span class="st">&quot;none&quot;</span>)

<span class="kw">library</span>(RColorBrewer)
p2 &lt;-<span class="st"> </span>gg +<span class="st"> </span><span class="kw">scale_fill_distiller</span>(<span class="dt">palette=</span><span class="st">&quot;Reds&quot;</span>)
p3 &lt;-<span class="st"> </span>gg +<span class="st"> </span><span class="kw">scale_fill_gradient2</span>()
gridExtra::<span class="kw">grid.arrange</span>(gg, p2, p3, <span class="dt">ncol=</span><span class="dv">3</span>)</code></pre></div>
<p><img src='screenshots/gg_cs_40.png' width='785' height='262' /></p>
